function setPlaceholders(){$("[data-placeholder2]").each((function(t,a){let c=$(a).attr("data-placeholder"),e=$(a).attr("data-placeholder2");window.innerWidth>576?$(a).attr("placeholder",c):$(a).attr("placeholder",e)}))}function setLabelPlace(){document.querySelectorAll(".fg input,.fg-dynamic select").forEach(t=>{function a(){""!==t.value?t.classList.add("_filled"):t.classList.remove("_filled")}a(),t.onchange=()=>{a()}})}function cartCalc(){$(".cartcalc .ccalc-minus").click((function(t){let a=$(this).closest(".cartcalc").find("input").val();if(a>1){let t=+a-1;$(this).closest(".cartcalc").find("input").val(t),$(this).closest(".cartcalc").find("input").trigger("change")}else $(this).closest(".cartcalc").find("input").val(a);t.stopImmediatePropagation()})),$(".cartcalc .ccalc-plus").click((function(t){let a=+$(this).closest(".cartcalc").find("input").val()+1;$(this).closest(".cartcalc").find("input").val(a),$(this).closest(".cartcalc").find("input").trigger("change"),t.stopImmediatePropagation()}))}setPlaceholders(),$("._tab").click((function(){let t=$(this).parents("._tabs-parent"),a=$(this).attr("data-tab");console.log(t),$(t).find("._tab").removeClass("_active"),$(this).addClass("_active"),$(t).find(".tab-content").removeClass("_active"),$(t).find("."+a).addClass("_active")})),$(document).on("click",".qa-card__show",(function(t){$(this).parents(".qa-card").toggleClass("_active"),$(this).siblings(".qa-card__hidden").slideToggle()})),$(".footer-nav__top").click((function(){window.innerWidth<=576&&($(this).parents(".footer-nav").toggleClass("_active"),$(this).siblings(".footer-nav__bottom").slideToggle())})),setLabelPlace(),$(".pass-toggle").click((function(){$(this).hasClass("_active")?($(this).removeClass("_active"),$(this).siblings("input").attr("type","password")):($(this).addClass("_active"),$(this).siblings("input").attr("type","text"))})),cartCalc();
function onIn(){if(window.innerWidth>992){let e=$(this);setTimeout((function(){e.is(":hover")&&e.addClass("_show")}),200)}}function onOut(){window.innerWidth>992&&$(this).removeClass("_show")}$("._menu-item").hover(onIn,onOut),$(".nav__show").click((function(){window.innerWidth<=992&&($(this).parents(".nav__item").toggleClass("_show"),$(this).siblings(".nav__hidden").slideToggle())})),$("._toggle-mob-menu").click((function(){$(".header").toggleClass("_open-mob-menu"),$(".m-page").toggleClass("fixed-body")})),$("._toggle-catalog-menu").click((function(){$(".header").toggleClass("_open-catalog-menu"),$(".m-page").toggleClass("fixed-body")})),$(".header-city__show").click((function(){$(this).parents(".header-city").toggleClass("_show")})),$(".header-city__item").click((function(){let e=$(this).parents(".header-city");$(this).siblings(".header-city__item").removeClass("_active"),$(this).addClass("_active"),$(e).removeClass("_show"),$(e).find(".header-city__current").html($(this).html())})),$(document).mouseup((function(e){let t=$(".header-city");t.is(e.target)||0!==t.has(e.target).length||$(t).hasClass("_show")&&$(t).removeClass("_show")})),$(window).on("load resize",(function(){$(window).width()>992||$(window).width()<=576?$(".header .header-city").insertBefore(".nav"):$(".header .header-city").insertBefore(".header-contacts")})),$("._search-field").on("input",(function(){$(this).val().length>3&&$(this).parents(".m-search").addClass("_show")})),$(document).mouseup((function(e){var t=$(".m-search");t.is(e.target)||0!==t.has(e.target).length||$(t).hasClass("_show")&&$(t).removeClass("_show")}));
function mainSlider(){new Swiper(".main-slider .swiper-container",{slidesPerView:1,spaceBetween:0,pagination:{el:".main-slider .swiper-pagination",type:"bullets",clickable:!0},on:{afterInit:function(){e()},slideChangeTransitionEnd:function(){e()}}});function e(){let e=document.querySelector(".main-slider .swiper-slide-active > div").getBoundingClientRect().height;console.log(e),window.innerWidth<=577&&$(".main-slider .swiper-container").css("height",e+"px")}}function Sliders(){let e=[];document.querySelectorAll("._slider").forEach((i,r)=>{i.setAttribute("data-slider-id",r),e[r]=new Swiper(`._slider[data-slider-id="${r}"] .swiper-container`,{slidesPerView:"auto",spaceBetween:0,watchSlidesProgress:!0,preventClicks:!0,a11y:!1,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:`._slider[data-slider-id="${r}"] .swiper-button-next`,prevEl:`._slider[data-slider-id="${r}"] .swiper-button-prev`},pagination:{el:`._slider[data-slider-id="${r}"] .swiper-pagination`,type:"bullets",clickable:!0}})})}function productSliders(){let e=[];document.querySelectorAll(".product-slider").forEach((i,r)=>{i.setAttribute("data-slider-id",r),e[r]=new Swiper(`.product-slider[data-slider-id="${r}"] .product-slider__container`,{wrapperClass:"product-slider__wrapper",slideClass:"product-slider__slide",slidesPerView:"auto",spaceBetween:0,watchSlidesProgress:!0,preventClicks:!0,a11y:!1,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:`.product-slider[data-slider-id="${r}"] .swiper-button-next`,prevEl:`.product-slider[data-slider-id="${r}"] .swiper-button-prev`}})})}function nestedSliders(){let e=[];document.querySelectorAll("._nested-slider").forEach((i,r)=>{i.setAttribute("data-slider-id",r),e[r]=new Swiper(`._nested-slider[data-slider-id="${r}"] .swiper-container`,{slidesPerView:"auto",spaceBetween:0,watchSlidesProgress:!0,preventClicks:!0,a11y:!1,observer:!0,observeParents:!0,observeSlideChildren:!0,nested:!0,pagination:{el:`._nested-slider[data-slider-id="${r}"] .swiper-pagination`,type:"bullets",clickable:!0}})})}function productSlider(){new Swiper(".product-slider2 .swiper-container",{slidesPerView:"auto",spaceBetween:0,direction:"vertical",watchSlidesProgress:!0,preventClicks:!0,a11y:!1,navigation:{nextEl:".product-slider2 .swiper-button-next",prevEl:".product-slider2 .swiper-button-prev"}})}function gallery(){let e=[];document.querySelectorAll(".gallery").forEach((i,r)=>{i.setAttribute("data-slider-id",r);let t={mySwiper:{},mySwiper2:{}};t.mySwiper=new Swiper(`.gallery[data-slider-id="${r}"] .mySwiper`,{spaceBetween:0,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,direction:"vertical",breakpoints:{320:{direction:"horizontal"},992:{direction:"vertical"}}}),t.mySwiper2=new Swiper(`.gallery[data-slider-id="${r}"] .mySwiper2`,{spaceBetween:0,direction:"vertical",loop:!0,navigation:{nextEl:`.gallery[data-slider-id="${r}"] .swiper-button-next`,prevEl:`.gallery[data-slider-id="${r}"] .swiper-button-prev`},thumbs:{swiper:t.mySwiper},breakpoints:{320:{direction:"horizontal"},992:{direction:"vertical"}}}),e[r]=t})}Sliders(),mainSlider(),productSliders(),nestedSliders(),productSlider(),gallery();
let circleTexts=document.querySelectorAll(".circle-text");circleTexts.forEach(e=>{new CircleType(e)}),$(".favourite-btn,.cart-btn").click((function(){$(this).toggleClass("_added")})),$(".color-field__item").click((function(){$(this).siblings(".color-field__item").removeClass("_active"),$(this).addClass("_active")})),$(".room-item").click((function(){$(".room-item").removeClass("_show"),$(this).addClass("_show"),window.innerWidth<=576&&($(".room").addClass("_show-bg"),$(this).addClass("_show-mob"),$(".m-page").addClass("fixed-body"))})),$(".room__bg").click((function(){$(".room").removeClass("_show-bg"),$(".room-item").removeClass("_show-mob"),$(".m-page").removeClass("fixed-body")}));
$(".rating-block").each((function(t,i){let a=+$(i).attr("data-rating")/5*100;$(i).find(".rating__fill").css("width",a+"%"),$(i).find(".rating-block__num").html($(i).attr("data-rating"));let n=$(i).find(".rating");$(n).mousemove((function(t){let a=t.offsetX/$(this).outerWidth()*100;$(i).find(".rating__fill").css("width",a+"%")})),$(n).mouseleave((function(t){let a=+$(i).attr("data-rating")/5*100;$(i).find(".rating__fill").css("width",a+"%"),$(i).find(".rating-block__num").html($(i).attr("data-rating"))})),$(n).click((function(t){let a=t.offsetX/$(this).outerWidth()*100;$(i).attr("data-rating",(5*a/100).toFixed(1)),$(i).find(".rating-block__num").html($(i).attr("data-rating"))}))})),$(".rating-input__item").click((function(){let t=parseInt($(this).attr("data-rating-value"));$(this).parent(".rating-input").attr("data-total-rating",t),$(this).siblings(".rating-input__field").val(t)}));
let filterSliders=document.querySelectorAll(".filter-slider");filterSliders.forEach(e=>{const t=e.querySelector(".range-slider"),l=[e.querySelector(".range-slider__input1"),e.querySelector(".range-slider__input2")];let r=+e.getAttribute("data-start"),a=+e.getAttribute("data-start2"),i=+e.getAttribute("data-min"),n=+e.getAttribute("data-max");t&&noUiSlider.create(t,{start:[r,a],connect:!0,step:1,range:{min:i,max:n}}),t&&(t.noUiSlider.on("update",(function(e,t){l[t].value=Math.round(e[t])})),l.forEach((e,t)=>{e.addEventListener("change",e=>{o(t,e.currentTarget.value)})}));const o=(e,l)=>{let r=[null,null];r[e]=l,t.noUiSlider.set(r)}}),$(".more-checkbox").click((function(){$(this).parents(".filter-group__checks").toggleClass("_show-all")})),$("._toggle-filter").click((function(){$(".filter").toggleClass("_open"),$(".m-page").toggleClass("fixed-body")})),$("._toggle-vacancy-filter").click((function(){$(".vacancy-filter").toggleClass("_open"),$(".m-page").toggleClass("fixed-body"),$(".m-page").toggleClass("_vacancy-sidebar-open")}));
$(window).on("load resize",(function(){$(window).width()<=576?$(".product-info__top").insertBefore(".product-item__inner"):$(".product-info__top").insertBefore(".product-info__colors")}));
let maps=document.querySelectorAll("[data-cord1]");function init(a){maps.forEach(a=>{!function(a){let e=[+a.dataset.cord1,+a.dataset.cord2],o=new ymaps.Map(a,{center:e,zoom:17,controls:[]});o.behaviors.disable("scrollZoom");let t=new ymaps.Placemark(e,{},{iconLayout:"default#image",iconImageHref:"img/mark2.svg",iconImageSize:[30,30]});o.geoObjects.add(t)}(a)})}ymaps.ready(init);
const upload=new FileUploadWithPreview.FileUploadWithPreview("my-unique-id");upload.options.multiple=!0,$(document).on("change",".input-container input",(function(e){$(this).parents(".file-input").addClass("_uploaded")})),$(document).on("click",".image-preview-item-clear",(function(e){1===$(this).parents(".file-input").find(".image-preview-item").length&&$(this).parents(".file-input").removeClass("_uploaded")}));
$(".shop-card__btn").click((function(){$(this).parents(".shop-card").toggleClass("_active"),$(this).parents(".shop-card").find(".shop-card__bottom").slideToggle()}));
$("._toggle-lk-menu").click((function(){$(".lk-menu").toggleClass("_open"),$(".m-page").toggleClass("fixed-body")}));
function formatNums(t){let a=+$(t).attr("data-num");$(t).html(a.toLocaleString())}$(".cart-row").each((function(t,a){let r=$(a).find(".cart-row__count input"),m=$(a).find("._price"),n=$(a).find("._weight"),i=$(a).find("._price-sum"),e=$(a).find("._weight-sum");formatNums(m),formatNums(n),formatNums(i),formatNums(e),$(r).change((function(){let t=$(this).val(),a=+$(m).attr("data-num")*t,r=+$(n).attr("data-num")*t;$(i).attr("data-num",a),$(e).attr("data-num",r),formatNums(i),formatNums(e)}))})),$("._make-order").click((function(){$(".cart-order ._view1").removeClass("_active"),$(".cart-order ._view2").addClass("_active")}));
let body=document.querySelector("body"),modalTogglers=document.querySelectorAll("[data-modal]"),modals=document.querySelectorAll(".modal");function closeModals(){modals.forEach(e=>{e.classList.remove("_active"),body.classList.remove("fixed-body2")})}function openModal(e){closeModals();let o=document.querySelector("#"+e),t=o.querySelectorAll("._close-modal");o.classList.add("_active"),body.classList.add("fixed-body2"),t.forEach(e=>{e.onclick=()=>{o.classList.remove("_active"),body.classList.remove("fixed-body2")}})}modalTogglers.forEach(e=>{e.onclick=function(){openModal(e.getAttribute("data-modal"))}});var getScrollBarSize=function(){var e=window.document.createElement("textarea"),o={visibility:"hidden",position:"absolute",zIndex:"-2147483647",top:"-1000px",left:"-1000px",width:"1000px",height:"1000px",overflow:"scroll",margin:"0",border:"0",padding:"0"},t=void 0!==e.clientWidth&&void 0!==e.offsetWidth;for(var d in o)o.hasOwnProperty(d)&&(e.style[d]=o[d]);return function(){var o=null;return t&&window.document.body&&(window.document.body.appendChild(e),o=[e.offsetWidth-e.clientWidth,e.offsetHeight-e.clientHeight],window.document.body.removeChild(e)),document.documentElement.style.setProperty("--scrollWidth",o[0]+"px"),o}}();
function fix100vh(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}window.addEventListener("DOMContentLoaded",()=>{$(".fg select").niceSelect(),$('input[type="tel"]').mask("+7 (999) 999-99-99",{autoclear:!1},{placeholder:"+7 (   )    -  -  "}),fix100vh(),window.addEventListener("resize",()=>{fix100vh(),getScrollBarSize(),setPlaceholders()}),getScrollBarSize()});
//# sourceMappingURL=../sourcemaps/main.min.js.map
